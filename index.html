
<!-- // base on https://frontendcharts.com/react-d3-rotating-globe/ -->
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Globo</title>
  <script src="https://fb.me/react-0.14.3.min.js"></script>
  <script src="https://fb.me/react-dom-0.14.3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.2/d3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/3.0.0/topojson.min.js"></script>
  <script src="../../d3.min.js"></script>
  <!-- <script src="https://d3js.org/d3.v4.min.js"></script> -->
</head>
  <style>
  body
  {
    text-align: center;
  }    
  #globe 
  {
    width: 600px;
    margin: 20px auto;
  }
  path 
  {
    fill: #aaa;
    stroke: #ddd;
    stroke-width: 0.5;
  }
  .error {
    color: red
  }
  div {
    height: 100px;
    width: 100px;
    background-color: steelblue;
    margin:5px;
  }
  #container {
    height: 100px;
    width: 100px;
    background-color: black;
  }
      </style>
      
</head>
<body>
  <script type="text/babel">

  class Globe extends React.Component {
    constructor(props) {
      super(props)
      
      this.state = {
        rotation: 0
    }
  }
    
  render() {
      let projection = d3.geoOrthographic()
        .fitSize([this.props.size, this.props.size], this.props.geoJson)
        .rotate([this.state.rotation])
      
      let geoGenerator = d3.geoPath()
        .projection(projection)
      
      let pathString = geoGenerator(this.props.geoJson)

    window.requestAnimationFrame(() => {
      this.setState({
          rotation: this.state.rotation + 0.4
        })
      })
      
      return <svg width={this.props.size} height={this.props.size} >
        <path d={pathString} />
      </svg>
    }
  }

  d3.json('https://codepen.io/frontendcharts/pen/JBprpp.js', (err, json) => {
      let geoJson = topojson.feature(json, json.objects.ne_110m_admin_0_countries) 

  ReactDOM.render(
      <Globe geoJson={geoJson} size={400} />,
      document.getElementById('app')
    )
  })

  </script>

  <div id="globe">
    <div id="app"></div>
  </div>
 <h2>Globo!</h2>
 <p id="p1">First paragraph</p>
<p id="p2">Second paragraph</p>

<script>
    d3.select("#p2").style("color", "green");
</script>

<table>
  <tr>
      <td>
          One
      </td>
      <td>
          Two
      </td>
  </tr>
  <tr>
      <td>
          Three
      </td>
      <td>
          Four
      </td>
  </tr>
  </table>
  
  <script>
      d3.select("tr").selectAll("td").style('background-color','yellow');
  </script>

<h3>Error: This is dummy error.</h3>
<script>
    d3.select("h3").attr("class","error");
</script>

<p>D3</label><input type="checkbox" />
  <p>jQuery</label><input type="checkbox" />
  
  <script>
      d3.select("input").property("checked",true);
  </script>
<script>
  d3.select("body").append("p").text("Hello World!");
  d3.select("body")
  .append("p")
  .text("Third paragraph");
  var data = [100, 200, 300];
        var paragraph = d3.select("body")
                .selectAll("p")
                .data(data)
                .text(function (d, i) {
                    console.log("d: " + d);
                    console.log("i: " + i);
                    console.log("this: " + this);

                    return d;
                });
</script>
<p>Error: This is error.</p>
<p>Warning: This is warning.</p>

<script>
    d3.selectAll("p").style("color", function(d, i) {
            var text = this.innerText;
        
            if (text.indexOf("Error") >= 0) {
                return "red";
            } else if (text.indexOf("Warning") >= 0) {
                return "orange";
            }
    });
</script>
<script src="https://d3js.org/d3.v4.min.js"></script>

<div> </div>
<script>
    d3.selectAll("div")
      .on("mouseover", function(){
          d3.select(this)
            .style("background-color", "orange");

          // Get current event info
          console.log(d3.event);
          
          // Get x & y co-ordinates
          console.log(d3.mouse(this));
      })
      .on("mouseout", function(){
          d3.select(this)
            .style("background-color", "steelblue")
      });
</script>
<div id="container"></div>

    <script>
        // d3.select("#container")
        //   .transition()
        //   .duration(1000)
        //   .style("background-color", "red");
          
          var t = d3.transition()
        .duration(5100)

    d3.select("#container")
      .transition(t)
      .style("background-color", "red");

      var svg = d3.select("body")
        .append("svg")
        .attr("width", 500)
        .attr("height", 500);


    var bar1 = svg.append("rect")
        .attr("fill", "blue")
        .attr("x", 100)
        .attr("y", 20)
        .attr("height", 20)
        .attr("width", 10)

    var bar2 = svg.append("rect")
        .attr("fill", "blue")
        .attr("x", 120)
        .attr("y", 20)
        .attr("height", 20)
        .attr("width", 10)

    update();

function update() {
    bar1.transition()
        .ease(d3.easeLinear)
        .duration(2000)
        .attr("height",100)

    bar2.transition()
        .ease(d3.easeLinear)
        .duration(2000)
        .delay(2000)
        .attr("height",100)
}
    </script>
    <p id='p3'> D3 Tutorials</p>

<script>
        var myData = ["Hello World!"]; //Must pass an array const will result in not displaying
     
        var p = d3.select("body")
            .selectAll("#p3")
            .data(myData)
            .text(function (d) {
                return d;
            });
</script>
 <!-- <p class='p4'> </p>
 <p class='p4'> </p>
 <p class='p4'> </p>
 <script> 
//     var myData = ["Hello World!", "Hello D3","Hello JavaScript"];
     
//         var p = d3.select("body")
//                 .selectAll(".p4")
//                 .data(myData)
//                 .text(function (d, i) {
//                     return d;
//                 });
//                 var data = [4, 1, 6, 2, 8, 9];
//     var body = d3.select("body")
//                 .selectAll("span")
//                 .data(data)
//                 .enter()
//                 .append("span")
//                 .text(function(d) { return d + " "; });
// </script>  -->
<script>
  var data = [5, 2, 9, 6, 3, 4];
  var body = d3.select("body")
               .selectAll("span")
               .data(data)
               .enter().append("span")
               .style('color', function(d) {
                   if (d % 2 === 0) {
                       return "green";
                   } else {
                       return "red";
                   }
               })
               .text(function(d) { return d + " "; });
</script>
  </body>
</html>